{
  "_args": [
    [
      "catbox@https://registry.npmjs.org/catbox/-/catbox-10.0.5.tgz",
      "/home/soumita/Desktop/hapi_js/node_modules/hapi"
    ]
  ],
  "_from": "catbox@https://registry.npmjs.org/catbox/-/catbox-10.0.5.tgz",
  "_id": "catbox@10.0.5",
  "_inCache": true,
  "_location": "/hapi/catbox",
  "_phantomChildren": {},
  "_requested": {
    "name": "catbox",
    "raw": "catbox@https://registry.npmjs.org/catbox/-/catbox-10.0.5.tgz",
    "rawSpec": "https://registry.npmjs.org/catbox/-/catbox-10.0.5.tgz",
    "scope": null,
    "spec": "https://registry.npmjs.org/catbox/-/catbox-10.0.5.tgz",
    "type": "remote"
  },
  "_requiredBy": [
    "/hapi"
  ],
  "_resolved": "https://registry.npmjs.org/catbox/-/catbox-10.0.5.tgz",
  "_shasum": "53915f0558d14e679bf10c90f6a9f79af99147b7",
  "_shrinkwrap": null,
  "_spec": "catbox@https://registry.npmjs.org/catbox/-/catbox-10.0.5.tgz",
  "_where": "/home/soumita/Desktop/hapi_js/node_modules/hapi",
  "bugs": {
    "url": "https://github.com/hapijs/catbox/issues"
  },
  "dependencies": {
    "boom": "7.x.x",
    "hoek": "6.x.x",
    "joi": "14.x.x"
  },
  "description": "Multi-strategy object caching service",
  "devDependencies": {
    "code": "5.x.x",
    "lab": "17.x.x"
  },
  "homepage": "https://github.com/hapijs/catbox#readme",
  "keywords": [
    "adapter",
    "cache",
    "generic"
  ],
  "license": "BSD-3-Clause",
  "main": "lib/index.js",
  "name": "catbox",
  "optionalDependencies": {},
  "readme": "![catbox Logo](https://raw.github.com/hapijs/catbox/master/images/catbox.png)\r\n\r\nMulti-strategy object caching service\r\nVersion: **10.x**\r\n\r\n[![Build Status](https://secure.travis-ci.org/hapijs/catbox.svg)](http://travis-ci.org/hapijs/catbox)\r\n\r\nLead Maintainer: [Gil Pedersen](https://github.com/kanongil)\r\n\r\n**catbox** is a multi-strategy key-value object store. It comes with extensions supporting a memory\r\ncache,\r\n [Redis](http://redis.io/),\r\n [MongoDB](http://www.mongodb.org/),\r\n [Memcached](http://memcached.org/),\r\n [Riak](http://basho.com/riak/),\r\n [Amazon S3](http://aws.amazon.com/s3/),\r\n [RethinkDB](http://rethinkdb.com),\r\n [Couchbase](http://www.couchbase.com/),\r\n [Aerospike](http://www.aerospike.com/) and\r\n [LevelDB](http://leveldb.org/).\r\n\r\n**catbox** provides two interfaces: a low-level `Client` and a high-level `Policy`.\r\n\r\n\r\n### Installation\r\n\r\nIn order to reduce module dependencies, **catbox** does not include the external caching\r\nstrategies. To use other strategies, each service must be manually installed via npm or package\r\ndependencies manually. The available strategies are:\r\n\r\n- [Memory](https://github.com/hapijs/catbox-memory)\r\n- [Redis](https://github.com/hapijs/catbox-redis)\r\n- [MongoDB](https://github.com/hapijs/catbox-mongodb)\r\n- [Memcached](https://github.com/hapijs/catbox-memcached)\r\n- [Riak](https://github.com/DanielBarnes/catbox-riak)\r\n- [Amazon S3](https://github.com/fhemberger/catbox-s3)\r\n- [RethinkDB](https://github.com/codedmart/catbox-rethinkdb)\r\n- [Couchbase](https://github.com/cmfatih/catbox-couchbase)\r\n- [Aerospike](https://github.com/ooogway/catbox-aerospike)\r\n- [LevelDB](https://github.com/mshick/catbox-multilevel)\r\n- [Local Disk](https://github.com/mirusresearch/catbox-disk)\r\n\r\n\r\n### `Client`\r\n\r\nThe `Client` object provides a low-level cache abstraction. The object is constructed using\r\n`new Client(engine, options)` where:\r\n\r\n- `engine` - is an object or a prototype function implementing the cache strategy:\r\n    - function - a prototype function with the signature `function(options)`. **catbox** will call\r\n      `new func(options)`.\r\n    - object - a pre instantiated client implementation object. Does not support passing `options`.\r\n- `options` - the strategy configuration object. Each strategy defines its own configuration\r\n  options with the following common options:\r\n    - `partition` - the partition name used to isolate the cached results across multiple clients.\r\n      The partition name is used as the MongoDB database name, the Riak bucket, or as a key prefix\r\n      in Redis and Memcached. To share the cache across multiple clients, use the same partition\r\n      name.\r\n\r\nNote that any implementation of client strategies must return deep copies of the stored data as the\r\nAPI assumes that the object returned from a `get()` is owned by the called and can be safely\r\nmodified without affecting the cache copy.\r\n\r\n\r\n#### API\r\n\r\nThe `Client` object provides the following methods:\r\n\r\n- `await start()` - creates a connection to the cache server. Must be called before any other\r\n  method is available. Any errors are thrown.\r\n- `stop()` - terminates the connection to the cache server.\r\n- `await get(key)` - retrieve an item from the cache engine if found where:\r\n    - `key` - a cache key object (see below).\r\n    - return value:\r\n        - `null` is the item is not found.\r\n        - throws an error if the request failed.\r\n        - otherwise, an object with the following properties:\r\n            - `item` - the value stored in the cache using `set()`.\r\n            - `stored` - the timestamp when the item was stored in the cache (in milliseconds).\r\n            - `ttl` - the remaining time-to-live (not the original value used when storing the\r\n              object).\r\n- `await set(key, value, ttl)` - store an item in the cache for a specified length of time, where:\r\n    - `key` - a cache key object (see below).\r\n    - `value` - the string or object value to be stored.\r\n    - `ttl` - a time-to-live value in milliseconds after which the item is automatically removed\r\n      from the cache (or is marked invalid).\r\n    - any errors are thrown.\r\n- `await drop(key)` - remove an item from cache where:\r\n    - `key` - a cache key object (see below).\r\n    - any errors are thrown.\r\n- `isReady()` - returns `true` if cache engine determines itself as ready, `false` if it is not\r\n  ready.\r\n- `validateSegmentName(segment)` - returns `null` if the segment name is valid (see below),\r\n  otherwise should return an instance of `Error` with an appropriate message.\r\n\r\nAny method with a `key` argument takes an object with the following required properties:\r\n- `segment` - a caching segment name string. Enables using a single cache server for storing\r\n  different sets of items with overlapping ids.\r\n- `id` - a unique item identifier string (per segment). Can be an empty string.\r\n\r\n\r\n### `Policy`\r\n\r\nThe `Policy` object provides a convenient cache interface by setting a global policy which is\r\nautomatically applied to every storage action. The object is constructed using\r\n`new Policy(options, [cache, segment])` where:\r\n\r\n- `options` - is an object with the following optional keys (unless noted otherwise):\r\n    - `expiresIn` - relative expiration expressed in the number of milliseconds since the item was\r\n      saved in the cache. Cannot be used together with `expiresAt`.\r\n    - `expiresAt` - time of day expressed in 24h notation using the 'HH:MM' format, at which point\r\n      all cache records for the route expire. Uses local time. Cannot be used together with\r\n      `expiresIn`.\r\n    - `generateFunc` - a function used to generate a new cache item if one is not found in the\r\n      cache when calling `get()`. The method's signature is `async function(id, flags)` where:\r\n        - `id` - the `id` string or object provided to the `get()` method.\r\n        - `flags` - an object used to pass back additional flags:\r\n            - `ttl` - the cache ttl value in milliseconds. Set to `0` to skip storing in the cache.\r\n              Defaults to the cache global policy.\r\n    - `staleIn` - number of milliseconds to mark an item stored in cache as stale and attempt to\r\n      regenerate it when `generateFunc` is provided. Must be less than `expiresIn`. Alternatively \r\n      function that returns staleIn value in milliseconds. The function signature is\r\n      `function(stored, ttl)` where:\r\n        - `stored` - the timestamp when the item was stored in the cache (in milliseconds).\r\n        - `ttl` - the remaining time-to-live (not the original value used when storing the object).\r\n    - `staleTimeout` - number of milliseconds to wait before returning a stale value while\r\n      generateFunc is generating a fresh value.\r\n    - `generateTimeout` - number of milliseconds to wait before returning a timeout error when the\r\n      `generateFunc` function takes too long to return a value. When the value is eventually\r\n      returned, it is stored in the cache for future requests. Required if `generateFunc` is\r\n      present. Set to `false` to disable timeouts which may cause all `get()` requests to get stuck\r\n      forever.\r\n    - `dropOnError` - if `true`, an error or timeout in the `generateFunc` causes the stale value\r\n      to be evicted from the cache. Defaults  to `true`.\r\n    - `generateOnReadError` - if `false`, an upstream cache read error will stop the `get()` method\r\n      from calling the generate function and will instead pass back the cache error. Defaults to\r\n      `true`.\r\n    - `generateIgnoreWriteError` - if `false`, an upstream cache write error will be passed back\r\n      with the generated value when calling the `get()` method. Defaults to `true`.\r\n    - `pendingGenerateTimeout` - number of milliseconds while generateFunc call is in progress for\r\n      a given id, before a subsequent generateFunc call is allowed. Defaults to 0, no blocking of\r\n      concurrent generateFunc calls beyond staleTimeout.\r\n    - `getDecoratedValue` - if `true`, the return value of `policy.get()` calls is an object with\r\n      `{ value, cached, report }`. Defaults to `false` which returns a plain value.\r\n- `cache` - a `Client` instance (which has already been started).\r\n- `segment` - required when `cache` is provided. The segment name used to isolate cached items\r\n  within the cache partition.\r\n\r\n\r\n#### API\r\n\r\nThe `Policy` object provides the following methods:\r\n\r\n- `await get(id)` - retrieve an item from the cache. If the item is not found and the\r\n  `generateFunc` method was provided, a new value is generated, stored in the cache, and returned.\r\n  Multiple concurrent requests are queued and processed once. The method arguments are:\r\n    - `id` - the unique item identifier (within the policy segment). Can be a string or an object\r\n      with the required 'id' key.\r\n    - return value:\r\n        - the requested item if found, otherwise `null`.\r\n        - any errors are thrown.\r\n        - if `getDecoratedValue` is `true`, returns an object with the following properties:\r\n            - `value` - the fetched or generated value.\r\n            - `cached` - `null` if a valid item was not found in the cache, or an object with the\r\n              following keys:\r\n                - `item` - the cached `value`.\r\n                - `stored` - the timestamp when the item was stored in the cache.\r\n                - `ttl` - the cache ttl value for the record.\r\n                - `isStale` - `true` if the item is stale.\r\n            - `report` - an object with logging information about the generation operation\r\n              containing the following keys (as relevant):\r\n                - `msec` - the cache lookup time in milliseconds.\r\n                - `stored` - the timestamp when the item was stored in the cache.\r\n                - `isStale` - `true` if the item is stale.\r\n                - `ttl` - the cache ttl value for the record.\r\n                - `error` - lookup error.\r\n- `await set(id, value, ttl)` - store an item in the cache where:\r\n    - `id` - the unique item identifier (within the policy segment).\r\n    - `value` - the string or object value to be stored.\r\n    - `ttl` - a time-to-live **override** value in milliseconds after which the item is\r\n      automatically removed from the cache (or is marked invalid). This should be set to `0` in\r\n      order to use the caching rules configured when creating the `Policy` object.\r\n    - any errors are thrown.\r\n- `await drop(id)` - remove the item from cache where:\r\n    - `id` - the unique item identifier (within the policy segment).\r\n    - any errors are thrown.\r\n- `ttl(created)` - given a `created` timestamp in milliseconds, returns the time-to-live left based\r\n  on the configured rules.\r\n- `rules(options)` - changes the policy rules after construction (note that items already stored\r\n  will not be affected) where:\r\n    - `options` - the same `options` as the `Policy` constructor.\r\n- `isReady()` - returns `true` if cache engine determines itself as ready, `false` if it is not\r\n  ready or if there is no cache engine set.\r\n- `stats` - an object with cache statistics where:\r\n    - `sets` - number of cache writes.\r\n    - `gets` - number of cache `get()` requests.\r\n    - `hits` - number of cache `get()` requests in which the requested id was found in the cache\r\n      (can be stale).\r\n    - `stales` - number of cache reads with stale requests (only counts the first request in a\r\n      queued `get()` operation).\r\n    - `generates` - number of calls to the generate function.\r\n    - `errors` - cache operations errors.\r\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git://github.com/hapijs/catbox.git"
  },
  "scripts": {
    "test": "lab -a code -t 100 -L",
    "test-cov-html": "lab -a code -r html -o coverage.html"
  },
  "version": "10.0.5"
}
